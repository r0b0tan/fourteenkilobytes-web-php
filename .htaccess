# fourteenkilobytes - Apache Configuration
# This file must be in the root of your web directory

RewriteEngine On

# API requests -> /api/index.php
RewriteRule ^api/(.*)$ api/index.php [L,QSA]

# Admin static files (pass through if file exists)
RewriteCond %{REQUEST_FILENAME} -f
RewriteRule ^public/admin/.*$ - [L]

# Admin routes
RewriteRule ^admin/?$ public/admin/index.html [L]
RewriteRule ^admin/(.+)$ public/admin/$1 [L]

# Static files in public (pass through if exists)
RewriteCond %{DOCUMENT_ROOT}/%{REQUEST_URI} -f
RewriteRule ^ - [L]

# RSS Feed
RewriteRule ^feed\.xml$ feed.php [L]

# Root -> public/index.html or index.php router
RewriteRule ^$ index.php [L]

# Blog posts (slug format) -> index.php router
RewriteRule ^([a-z0-9-]+)/?$ index.php?slug=$1 [L,QSA]
